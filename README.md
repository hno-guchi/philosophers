# philosophers

42のカリキュラムにある課題です。並行プログラミングについて学びました。このプロジェクトでは、デッドロックを回避しつつ、哲学者たちがフォーク（箸）を使って食事をする問題を解決します。

## 概要

- 哲学者の食事問題（Dining Philosophers Problem）を実装
- マルチスレッドを用いて並列処理を管理
- ミューテックス（mutex）を使用してフォーク（箸）の競合を制御
- スレッド間の同期を適切に処理

## インストール

```sh
make
```

これにより `philosophers` 実行ファイルが生成されます。

## 使い方

```sh
./philo [number_of_philosophers] [time_to_die] [time_to_eat] [time_to_sleep] [number_of_times_each_philosopher_must_eat]
```

### 引数の説明

1. `number_of_philosophers` : 哲学者の人数（スレッド数）
2. `time_to_die` : 哲学者が最後の食事からこの時間が経過すると死亡（ミリ秒単位）
3. `time_to_eat` : 哲学者が食事をするのにかかる時間（ミリ秒単位）
4. `time_to_sleep` : 哲学者が睡眠をとるのにかかる時間（ミリ秒単位）
5. `[number_of_times_each_philosopher_must_eat]` : （オプション）各哲学者が食事をする回数

### 実行例

```sh
./philo 5 800 200 200
```

この例では、5人の哲学者が `800ms` 以内に食事を取らないと死亡し、食事には `200ms`、睡眠にも `200ms` かかります

## 実装された機能

- **スレッド管理**: 哲学者ごとにスレッドを作成し並列処理
- **ミューテックスによる同期**: フォーク（箸）の競合を防ぐためのミューテックス実装
- **デッドロック回避**: 哲学者が常に食事できるように適切なアルゴリズムを実装
- **正確なタイミング管理**: `gettimeofday` を使用し、精度の高い時間計測を実施
- **エラーハンドリング**: 無効な入力や異常動作を適切に処理
